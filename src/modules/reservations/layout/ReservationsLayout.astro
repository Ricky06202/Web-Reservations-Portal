---
import BaseLayout from 'layouts/BaseLayout.astro'

const { title } = Astro.props
---

<BaseLayout title={title}>
	<slot />
</BaseLayout>

<script>
	const user = sessionStorage.getItem('auth-store')
	const token = user ? JSON.parse(user).state.token : null
	if (!token) {
		window.location.href = '/login'
	}
</script>
